name: Metrics
on:
  # Schedule daily updates at 00:00 UTC
  schedule: [{cron: "0 0 * * *"}]
  # (optional) Run workflow manually
  workflow_dispatch:
  # (optional) Run workflow when pushing on master/main
  push: {branches: ["master", "main"]}
jobs:
  github-metrics:
    runs-on: ubuntu-latest
    permissions:
      # Required to write the metrics SVG file to the repository
      contents: write
    steps:
      - uses: lowlighter/metrics@latest
        with:
          # Your GitHub Personal Access Token (PAT)
          token: ${{ secrets.METRICS_TOKEN }}

          # Core Options
          user: Amxgh
          template: classic
          # Add base_indepth to enable more detailed stats for core sections
          base: header, activity, community, repositories, metadata
          base_indepth: yes
          
          # Output configuration
          # It's good practice to specify the output path (default is github-metrics.svg)
          output: assets/github-metrics.svg

          # Timezone and Commit Filtering (from original)
          repositories_affiliations: owner, organization_member
          config_timezone: AEST
          
          # Lines of code plugin (more reliable)
          plugin_lines: yes
          plugin_lines_delay: 30        # retry after 30s to avoid zero/incorrect diffs
          plugin_lines_sections: repositories, history
          # plugin_lines_history_limit: 1 # show last 1 year; raise if you want more history

          
          
          # üà∑Ô∏è Most Used Languages Plugin
          plugin_languages: yes
          # Options to fine-tune language display
          plugin_languages_limit: 15
          plugin_languages_threshold: 0% # Display even small percentages
          plugin_languages_colors: github, python:#3771A1, typescript:#3178C6 



